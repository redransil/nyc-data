import { Uint8ArrayList } from 'uint8arraylist';
import { unsigned } from 'uint8-varint';
export function encodeMessage(message, codec) {
    // unwrap root message
    const encoded = codec.encode(message);
    const skip = unsigned.encodingLength(unsigned.decode(encoded));
    if (encoded instanceof Uint8Array) {
        return new Uint8ArrayList(encoded.subarray(skip));
    }
    return encoded.sublist(skip);
}
//# sourceMappingURL=encode.js.map